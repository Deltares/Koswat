<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Main workflow - Koswat</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Main workflow";
        var mkdocs_page_input_path = "reference/koswat_main_workflow.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../index.html" class="icon icon-home"> Koswat
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../index.html">Koswat</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../docker.html">Docker</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../user_manual.html">User manual</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="koswat_architecture.html">Koswat design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="koswat_cost_report.html">Cost report</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="koswat_dike.html">Dike profile</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Main workflow</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#cli-call">CLI Call</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#import-of-config-files">Import of config files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#run-scenarios">Run scenarios</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#generate-reinforcement-profiles">Generate reinforcement profiles</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#calculate-reinforcement-costs">Calculate reinforcement costs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#apply-measure-selection-strategy">Apply measure selection strategy</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#calculate-total-costs">Calculate total costs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#export-results">Export results</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="koswat_reinforced_profile.html">Reinforcement profile</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="koswat_strategies.html">Strategies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="koswat_surroundings.html">Surroundings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Koswat docstrings</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="koswat_docstrings/cost_report.html">Cost report module</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="koswat_docstrings/koswat_handler.html">Koswat handler</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="koswat_docstrings/koswat_main.html">Main</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="koswat_docstrings/strategies.html">Strategies</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Configuration</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/configuration/koswat_config_protocol.html">Koswat Config Protocol</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Core</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/core/geometries.html">Core geometries module</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/core/io.html">Input Output core module</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/core/koswat_logger.html">Koswat logger</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/core/protocols.html">Core protocols module</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Dike</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/dike/layers.html">Dike layers module.</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/dike/profile.html">Koswat dike profile module</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/dike/surroundings.html">Koswat dike surroundings</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Dike reinforcements</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/dike_reinforcements/reinforcement_layers.html">Reinforcement Layers Wrapper</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/dike_reinforcements/reinforcement_profile.html">Reinforcement profile</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Plots</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/plots/dike.html">Dike plotting module</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/plots/geometries.html">Geometries plot module</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="koswat_docstrings/plots/plots.html">Plots module</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Koswat</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Reference</li>
      <li class="breadcrumb-item active">Main workflow</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/Deltares/koswat/edit/master/docs/reference/koswat_main_workflow.md">Edit on Deltares/koswat</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="main-workflow">Main workflow<a class="headerlink" href="#main-workflow" title="Permanent link">&para;</a></h1>
<p>As described in the <a href="../user_manual.html">user manual</a>, the tool can be used either as a sandbox, where the user has responsibility on how to put together an analysis, or as a command line tool. </p>
<p>When using the latter unfortunately we will only have one available call, in this chapter we will breakdown this main workflow so that we can better understand the structure of the rest of the package.</p>
<p>First of all, let's write the workflow as a pipeline:</p>
<div class="highlight"><pre><span></span><code>CLI call 
-&gt; Import of config files 
-&gt; Run scenarios 
    -&gt; Generate reinforcement profiles 
    -&gt; Calculate reinforcement costs 
        -&gt; Apply measure selection strategy 
        -&gt; Calculate total costs
    -&gt; Export results
</code></pre></div>
<table>
<thead>
<tr>
<th style="text-align: center;"><img alt="General Workflow" src="imgs/general_workflow.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Image 1. General Workflow</td>
</tr>
</tbody>
</table>
<h2 id="cli-call">CLI Call<a class="headerlink" href="#cli-call" title="Permanent link">&para;</a></h2>
<p>This step is very straightforward, the command line will run the method <code>run_analysis</code>, which will initiate the <code>KoswatHandler</code> and start an analysis.</p>
<h2 id="import-of-config-files">Import of config files<a class="headerlink" href="#import-of-config-files" title="Permanent link">&para;</a></h2>
<p>This step comprehends of several more steps. Usually, for each of the file imports an internal workflow will happen:</p>
<p><code>File -&gt; Import -&gt; File Object Model -&gt; Build -&gt; Data Object Model</code></p>
<p>This step is summarized by the generation of the <code>KoswatRunSettings</code> object.</p>
<h2 id="run-scenarios">Run scenarios<a class="headerlink" href="#run-scenarios" title="Permanent link">&para;</a></h2>
<p>Each <code>KoswatRunScenarioSettings</code> will run a koswat analysis for a given dike section.
To do so, a specific <code>KoswatProfileBase</code> will be created based on the conditions from the <code>KoswatScenario</code> and the surroundings of said dike section.</p>
<h2 id="generate-reinforcement-profiles">Generate reinforcement profiles<a class="headerlink" href="#generate-reinforcement-profiles" title="Permanent link">&para;</a></h2>
<p>All reinforcement profiles will be calculated for the scenario <code>KoswatProfileBase</code> profile. </p>
<h2 id="calculate-reinforcement-costs">Calculate reinforcement costs<a class="headerlink" href="#calculate-reinforcement-costs" title="Permanent link">&para;</a></h2>
<p>For this step, we will be creating a <a href="koswat_cost_report.html">cost report</a>
For each of the reinforcement profiles we will calculate their associated costs if they were to be applied at all the available traject points where the surroundings allow it.</p>
<h2 id="apply-measure-selection-strategy">Apply measure selection strategy<a class="headerlink" href="#apply-measure-selection-strategy" title="Permanent link">&para;</a></h2>
<p>Based on the available locations and the reinforcements that can be applied to it, a <a href="koswat_strategies.html">selection strategy</a> finds which construction should be done at each location based on the strategy's criteria.</p>
<h2 id="calculate-total-costs">Calculate total costs<a class="headerlink" href="#calculate-total-costs" title="Permanent link">&para;</a></h2>
<p>Once <code>Koswat</code> knows which measure will be applied to each location, and with the previously calculated <a href="#calculate-reinforcement-costs">reinforcement costs</a>, it will estimate the total meters required of each reinforcement and their total cost in euros (â‚¬).</p>
<h2 id="export-results">Export results<a class="headerlink" href="#export-results" title="Permanent link">&para;</a></h2>
<p>Once the costs reports are generate each of the summaries is exported to a <code>*.csv</code> file whilst the reinforcement profiles 'layers' are also exported into different <code>*.png</code> files.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="koswat_dike.html" class="btn btn-neutral float-left" title="Dike profile"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="koswat_reinforced_profile.html" class="btn btn-neutral float-right" title="Reinforcement profile">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; 2022 Carsopre</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/Deltares/koswat" class="fa fa-code-fork" style="color: #fcfcfc"> Deltares/koswat</a>
        </span>
    
    
      <span><a href="koswat_dike.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="koswat_reinforced_profile.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
