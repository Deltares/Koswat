FROM python:3.13-alpine3.22

# Copy the directories with the local koswat.
WORKDIR /app
COPY README.md LICENSE pyproject.toml pixi.lock /app/
COPY koswat /app/koswat

RUN pip install .

# set the entrypoint to the shell-hook script (activate the environment and run the command)
# no more pixi needed in the prod container
# ENTRYPOINT ["/bin/bash", "/shell-hook.sh"]
CMD ["koswat", "--help"]